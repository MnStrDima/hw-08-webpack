{"version":3,"sources":["webpack:///./js/gallery-items.js","webpack:///./js/task-1.js"],"names":["preview","original","description","galleryListRef","document","querySelector","lightboxRef","lightboxImageRef","modalCloseBtnRef","lightboxOverlayRef","galleryCardsMarkup","galleryItems","map","index","join","onCloseModal","window","removeEventListener","onEscCloseModal","onClickImageSlider","classList","remove","src","alt","e","code","dataset","parsedIndex","parseInt","lastChild","length","setNewAttributes","newIndex","insertAdjacentHTML","addEventListener","preventDefault","target","tagName","add","source","setAttribute","setImageAttribute","onOpenModal"],"mappings":"+KAAe,GACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBC5DXC,EAAiBC,SAASC,cAAc,eACxCC,EAAcF,SAASC,cAAc,gBACrCE,EAAmBH,SAASC,cAAc,oBAC1CG,EAAmBJ,SAASC,cAChC,kCAEII,EAAqBL,SAASC,cAAc,sBAE5CK,EAA8CC,EAK/CC,KAAI,WAAqCC,GAAU,IAA5Cb,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,SACf,+FAGUA,EAHV,uDAMoBY,EANpB,2DAQab,EARb,+BASqBC,EATrB,uBADkD,EAAzBC,YACzB,sCAgBDY,KAAK,IA6BV,SAASC,IACPC,OAAOC,oBAAoB,UAAWC,GACtCf,EAAec,oBAAoB,UAAWE,GAC9Cb,EAAYc,UAAUC,OAAO,WAK7Bd,EAAiBe,IAAM,GACvBf,EAAiBgB,IAAM,GASzB,SAASL,EAAgBM,GACR,WAAXA,EAAEC,MACJV,IAIJ,SAASI,EAAmBK,GAAG,IAEhBX,EACTN,EADFmB,QAAWb,MAEPc,EAAcC,SAASf,GAEvBgB,EAAYlB,EAAamB,OAAS,EAEzB,eAAXN,EAAEC,MAEJM,EADiBJ,IAAgBE,EAJhB,EAIyCF,EAAc,GAI3D,cAAXH,EAAEC,MAEJM,EAViB,IASAJ,EAA6BE,EAAYF,EAAc,GAK5E,SAASI,EAAiBC,GAAU,MACArB,EAAaqB,GAAvC/B,EAD0B,EAC1BA,SAAUC,EADgB,EAChBA,YAClBK,EAAiBe,IAAMrB,EACvBM,EAAiBgB,IAAMrB,EACvBK,EAAiBmB,QAAQb,MAAQmB,EAjGnC7B,EAAe8B,mBAAmB,YAAavB,GAwB/CP,EAAe+B,iBAAiB,SAEhC,SAA4BV,GAE1B,GADAA,EAAEW,iBACuB,QAArBX,EAAEY,OAAOC,QACX,QAKJ,SAAqBb,GACnBR,OAAOkB,iBAAiB,UAAWhB,GACnCf,EAAe+B,iBAAiB,UAAWf,GAE3Cb,EAAYc,UAAUkB,IAAI,WAI5B,SAA2Bd,GACzBjB,EAAiBe,IAAME,EAAEY,OAAOV,QAAQa,OACxChC,EAAiBgB,IAAMC,EAAEY,OAAOb,IAChChB,EAAiBiC,aAAa,aAAchB,EAAEY,OAAOV,QAAQb,OAN7D4B,CAAkBjB,GARlBkB,CAAYlB,MAiBdlB,EAAY4B,iBAAiB,SAc7B,SAA8BV,GACxBA,EAAEY,SAAW3B,GAAsBe,EAAEY,SAAW5B,GAClDO,S","file":"main.046cb0adec89f9293695.js","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","import galleryItems from './gallery-items.js';\n\nconst galleryListRef = document.querySelector('.js-gallery');\nconst lightboxRef = document.querySelector('.js-lightbox');\nconst lightboxImageRef = document.querySelector('.lightbox__image');\nconst modalCloseBtnRef = document.querySelector(\n  '[data-action=\"close-lightbox\"]',\n);\nconst lightboxOverlayRef = document.querySelector('.lightbox__overlay');\n\nconst galleryCardsMarkup = createGalleryCardsMarkup(galleryItems);\ngalleryListRef.insertAdjacentHTML('beforeend', galleryCardsMarkup);\n\nfunction createGalleryCardsMarkup(items) {\n  return items\n    .map(({ preview, original, description }, index) => {\n      return `\n        <li class=\"gallery__item\">\n        <a class=\"gallery__link\"\n        href=\"${original}\"\n        >\n        <img\n            data-index=\"${index}\"\n            class=\"gallery__image\"\n            src=\"${preview}\"\n            data-source=\"${original}\"\n            alt=\"${description}\"\n        />\n    </a>\n</li>\n`;\n    })\n    .join('');\n}\n\ngalleryListRef.addEventListener('click', onGalleryItemClick);\n\nfunction onGalleryItemClick(e) {\n  e.preventDefault();\n  if (e.target.tagName !== 'IMG') {\n    return;\n  }\n  onOpenModal(e);\n}\n\nfunction onOpenModal(e) {\n  window.addEventListener('keydown', onEscCloseModal);\n  galleryListRef.addEventListener('keydown', onClickImageSlider);\n\n  lightboxRef.classList.add('is-open');\n  setImageAttribute(e);\n}\n\nfunction setImageAttribute(e) {\n  lightboxImageRef.src = e.target.dataset.source;\n  lightboxImageRef.alt = e.target.alt;\n  lightboxImageRef.setAttribute('data-index', e.target.dataset.index);\n}\n\nlightboxRef.addEventListener('click', onOverlayAndBtnClick);\n\nfunction onCloseModal() {\n  window.removeEventListener('keydown', onEscCloseModal);\n  galleryListRef.removeEventListener('keydown', onClickImageSlider);\n  lightboxRef.classList.remove('is-open');\n  unsetImageAttributes();\n}\n\nfunction unsetImageAttributes() {\n  lightboxImageRef.src = '';\n  lightboxImageRef.alt = '';\n}\n\nfunction onOverlayAndBtnClick(e) {\n  if (e.target === lightboxOverlayRef || e.target === modalCloseBtnRef) {\n    onCloseModal();\n  }\n}\n\nfunction onEscCloseModal(e) {\n  if (e.code === 'Escape') {\n    onCloseModal();\n  }\n}\n\nfunction onClickImageSlider(e) {\n  const {\n    dataset: { index },\n  } = lightboxImageRef;\n  const parsedIndex = parseInt(index);\n  const firstChild = 0;\n  const lastChild = galleryItems.length - 1;\n\n  if (e.code === 'ArrowRight') {\n    const newIndex = parsedIndex === lastChild ? firstChild : parsedIndex + 1;\n    setNewAttributes(newIndex);\n  }\n\n  if (e.code === 'ArrowLeft') {\n    const newIndex = parsedIndex === firstChild ? lastChild : parsedIndex - 1;\n    setNewAttributes(newIndex);\n  }\n}\n\nfunction setNewAttributes(newIndex) {\n  const { original, description } = galleryItems[newIndex];\n  lightboxImageRef.src = original;\n  lightboxImageRef.alt = description;\n  lightboxImageRef.dataset.index = newIndex;\n}\n"],"sourceRoot":""}